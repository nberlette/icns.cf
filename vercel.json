{
  "functions": {
    "api/*.ts": {
      "runtime": "@vercel/node@1.12.1"
    }
  },
  "routes": [
    {
      "src": "^/(?:(?<color>[^/]+)[/])?(?<name>[^\\.]+)(?:\\.(?<type>svg|png))?[/]?(?:[?].*)?",
      "dest": "api/render.ts?slug=$name&color=$color&type=$type",
      "headers": {
	"Cache-Control": "public, max-age=604800, s-maxage=31536000, stale-while-revalidate=604800, stale-if-error=604800"
      }
    },
    {
      "src": "^/(?<name>[^-]+)(?:[-](?<color>[^\\.]+))?(?:\\.(?<type>svg|png))?[/]?(?:[?].*)?",
      "dest": "api/render.ts?slug=$name&color=$color&type=$type",
      "headers": {
        "Cache-Control": "public, max-age=604800, s-maxage=31536000, stale-while-revalidate=604800, stale-if-error=604800"
      }
    },
    {
      "src": "^/favicon\\.ico",
      "dest": "https://n.berlette.com/logo.svg",
      "headers": {
        "Cache-Control": "public, max-age=604800, s-maxage=31536000, stale-while-revalidate=604800, stale-if-error=604800"
      },
      "continue": false
    },
    {
      "handle": "filesystem"
    },
    {
      "src": "^/(.*)(?:[?](.*))?",
      "dest": "api/index.ts?q=$1&$2",
      "headers": {
        "Cache-Control": "public, max-age=600, s-maxage=900, stale-while-revalidate=60, stale-if-error=86400"
      }
    }
  ]
}
